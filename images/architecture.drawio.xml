<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36" version="28.0.6">
  <diagram name="POMv2" id="pomv2-architecture">
    <mxGraphModel dx="1320" dy="852" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="800" background="#ffffff" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="5G0G4nGA-qdK4ZmmwOuy-33" value="" style="rounded=0;whiteSpace=wrap;html=1;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" vertex="1" parent="1">
          <mxGeometry x="20" y="15" width="1480" height="615" as="geometry" />
        </mxCell>
        <mxCell id="5G0G4nGA-qdK4ZmmwOuy-32" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=light-dark(#FFFFFF,#262626);" vertex="1" parent="1">
          <mxGeometry x="1100" y="420" width="350" height="160" as="geometry" />
        </mxCell>
        <mxCell id="title" value="POMv2 Architecture" style="text;html=1;strokeColor=none;fillColor=light-dark(#FFFFFF,#1F1F1F);align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="660" y="20" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="rgb_input" value="RGB&lt;br&gt;Image&lt;br&gt;&lt;font size=&quot;2&quot;&gt;(512×512)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1976d2;fontStyle=1;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="50" y="250" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="5G0G4nGA-qdK4ZmmwOuy-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="pon_encoder" target="5G0G4nGA-qdK4ZmmwOuy-6">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="630" y="190" />
              <mxPoint x="630" y="120" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pon_encoder" value="PON&lt;br&gt;Encoder&lt;br&gt;&lt;font size=&quot;2&quot;&gt;BEV Features&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e9;strokeColor=#388e3c;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="370" y="160" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="semantic_pom" value="DeepLabV3&lt;br&gt;MobileNetV3&lt;br&gt;Semantic POM" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#f57c00;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="220" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="pom_output" value="POM&lt;br&gt;Output&lt;br&gt;&lt;font size=&quot;2&quot;&gt;(128×128)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#c2185b;fontStyle=1;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="380" y="320" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="project_bev" value="Project&lt;br&gt;to BEV&lt;br&gt;Grid" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="500" y="320" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="om_encoder" value="OM&lt;br&gt;Encoder&lt;br&gt;&lt;font size=&quot;2&quot;&gt;UNet Encoder&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#0277bd;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="640" y="320" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="5G0G4nGA-qdK4ZmmwOuy-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="feature_concat" target="5G0G4nGA-qdK4ZmmwOuy-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="feature_concat" value="Feature&lt;br&gt;Concat" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffebee;strokeColor=#d32f2f;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="800" y="260" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5G0G4nGA-qdK4ZmmwOuy-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="bev_output" target="5G0G4nGA-qdK4ZmmwOuy-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="bev_output" value="BEV&lt;br&gt;Output&lt;br&gt;&lt;font size=&quot;2&quot;&gt;(64×64)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;gradientColor=none;fillColor=light-dark(#FFFFFF,#331A00);strokeColor=light-dark(#000000,#999900);strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="1070" y="250" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="arrow1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" parent="1" source="rgb_input" target="pon_encoder" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="170" y="290" />
              <mxPoint x="170" y="190" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="rgb_input" target="semantic_pom" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="170" y="290" />
              <mxPoint x="170" y="360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" parent="1" source="semantic_pom" target="pom_output" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" parent="1" source="pom_output" target="project_bev" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" parent="1" source="project_bev" target="om_encoder" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" parent="1" source="pon_encoder" target="feature_concat" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="630" y="190" />
              <mxPoint x="630" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" parent="1" source="om_encoder" target="feature_concat" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="770" y="360" />
              <mxPoint x="770" y="300" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=classic;endFill=1;" parent="1" target="bev_output" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1040" y="290" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="annotation1" value="Multi-scale BEV features" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="350" y="130" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="5G0G4nGA-qdK4ZmmwOuy-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="annotation2" target="5G0G4nGA-qdK4ZmmwOuy-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="annotation2" value="Perspective occupancy map" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="350" y="420" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="annotation3" value="Combined features" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="780" y="220" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="annotation4" value="Final BEV map" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="1040" y="200" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend_title" value="Key Components:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="1130" y="445" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend1" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e9;strokeColor=#388e3c;" parent="1" vertex="1">
          <mxGeometry x="1130" y="475" width="15" height="15" as="geometry" />
        </mxCell>
        <mxCell id="legend1_text" value="PON: Perspective Occupancy Network" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1155" y="472" width="250" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3e0;strokeColor=#f57c00;" parent="1" vertex="1">
          <mxGeometry x="1130" y="500" width="15" height="15" as="geometry" />
        </mxCell>
        <mxCell id="legend2_text" value="Semantic Segmentation (DeepLabV3)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1155" y="497" width="250" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend3" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;" parent="1" vertex="1">
          <mxGeometry x="1130" y="525" width="15" height="15" as="geometry" />
        </mxCell>
        <mxCell id="legend3_text" value="Geometric Projection to BEV" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1155" y="522" width="250" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend4" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#0277bd;" parent="1" vertex="1">
          <mxGeometry x="1130" y="550" width="15" height="15" as="geometry" />
        </mxCell>
        <mxCell id="legend4_text" value="Occupancy Mapping Encoder/Decoder" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1155" y="547" width="250" height="20" as="geometry" />
        </mxCell>
        <mxCell id="5G0G4nGA-qdK4ZmmwOuy-1" value="Loss" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffebee;strokeColor=#d32f2f;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="370" y="515" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5G0G4nGA-qdK4ZmmwOuy-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="5G0G4nGA-qdK4ZmmwOuy-6">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1070" y="120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5G0G4nGA-qdK4ZmmwOuy-6" value="PON&lt;br&gt;Decoder&lt;br&gt;&lt;font size=&quot;2&quot;&gt;BEV Features&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e9;strokeColor=#388e3c;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="800" y="90" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5G0G4nGA-qdK4ZmmwOuy-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" target="5G0G4nGA-qdK4ZmmwOuy-14">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1150" y="120" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5G0G4nGA-qdK4ZmmwOuy-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="5G0G4nGA-qdK4ZmmwOuy-11" target="5G0G4nGA-qdK4ZmmwOuy-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5G0G4nGA-qdK4ZmmwOuy-11" value="GT&lt;br&gt;Semantic POM&amp;nbsp;&lt;br&gt;&lt;font size=&quot;2&quot;&gt;(128×128)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1976d2;fontStyle=1;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="50" y="505" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="5G0G4nGA-qdK4ZmmwOuy-14" value="Loss" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffebee;strokeColor=#d32f2f;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1230" y="90" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5G0G4nGA-qdK4ZmmwOuy-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="5G0G4nGA-qdK4ZmmwOuy-15" target="5G0G4nGA-qdK4ZmmwOuy-14">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1420" y="120" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="5G0G4nGA-qdK4ZmmwOuy-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="5G0G4nGA-qdK4ZmmwOuy-15" target="5G0G4nGA-qdK4ZmmwOuy-16">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1420" y="290" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="5G0G4nGA-qdK4ZmmwOuy-15" value="GT&lt;br&gt;BEV&amp;nbsp;&lt;br&gt;&lt;font size=&quot;2&quot;&gt;(64×64)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1976d2;fontStyle=1;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="1380" y="180" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="5G0G4nGA-qdK4ZmmwOuy-16" value="Loss" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffebee;strokeColor=#d32f2f;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1230" y="260" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5G0G4nGA-qdK4ZmmwOuy-23" value="OM&lt;br&gt;Encoder&lt;br&gt;&lt;font size=&quot;2&quot;&gt;UNet Decoder&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#0277bd;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="940" y="250" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="5G0G4nGA-qdK4ZmmwOuy-27" value="Gradient flow stopped after Pretraining" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="630" y="90" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="5G0G4nGA-qdK4ZmmwOuy-28" value="Discarded during inference" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="640" y="150" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="5G0G4nGA-qdK4ZmmwOuy-30" value="BEV&lt;br&gt;Output&lt;br&gt;&lt;font size=&quot;2&quot;&gt;(64×64)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;gradientColor=none;fillColor=light-dark(#FFFFFF,#331A00);strokeColor=light-dark(#000000,#999900);strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="1070" y="80" width="80" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
